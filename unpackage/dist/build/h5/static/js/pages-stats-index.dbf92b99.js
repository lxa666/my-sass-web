(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-stats-index"],{"06e1":function(t,i,e){var a=e("5d8f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("6278d64e",a,!0,{sourceMap:!1,shadowMode:!1})},3027:function(t,i,e){"use strict";var a=e("8419"),s=e.n(a);s.a},"4b29":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,"uni-page-body[data-v-3686d766]{background:#fff}body.?%PAGE?%[data-v-3686d766]{background:#fff}",""]),t.exports=i},"5d8f":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".search-item[data-v-3686d766]{-webkit-box-flex:1;-webkit-flex:1;flex:1;border-radius:%?60?%}",""]),t.exports=i},"603c":function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticStyle:{background:"#F0F5F6",padding:"20rpx"}},[e("v-uni-view",{staticStyle:{padding:"0 20rpx",background:"#fff","border-radius":"20rpx"}},[e("v-uni-view",{staticClass:"flex align-center justify-between",staticStyle:{padding:"20rpx 0"}},[e("v-uni-view",{staticStyle:{flex:"1","margin-right":"24rpx","font-size":"34rpx"}},[e("v-uni-picker",{staticStyle:{flex:"1"},attrs:{mode:"date",value:t.statsDate},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.statsDateChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flex align-center justify-between",staticStyle:{padding:"20rpx 16rpx",background:"#F0F5F6","border-radius":"20rpx","font-size":"32rpx"}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.statsDate))]),e("v-uni-view",{staticClass:"cuIcon-right"})],1)],1)],1),t.activitylist.length?e("v-uni-view",{staticClass:"flex",staticStyle:{flex:"1",height:"72rpx",padding:"0 24rpx","border-radius":"72rpx","justify-content":"space-between","align-items":"center","margin-left":"24rpx",background:"#F0F5F6"}},[e("v-uni-picker",{staticStyle:{flex:"1"},attrs:{"range-key":"activityName",value:t.typeIndex2,range:t.activitylist},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.activitylistChange2.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flex ",staticStyle:{"align-items":"center","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"picker cuIcon-apps flex",staticStyle:{"align-items":"center"}},[t._v(t._s(t.activitylist[t.typeIndex2].activityName))]),e("v-uni-view",{staticClass:"cuIcon-right"})],1)],1)],1):t._e()],1),e("v-uni-view",{staticClass:"flex",staticStyle:{"justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-view",{staticClass:"flex",staticStyle:{padding:"10rpx 0 30rpx 10rpx"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-text",[t._v("待结算单量")]),e("v-uni-text",{staticClass:"text-bold",staticStyle:{"padding-left":"14rpx","font-size":"38rpx",color:"#FF5733"}},[t._v(t._s(t.statsData.forSettleCount))])],1),e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-text",[t._v("已结算单量")]),e("v-uni-text",{staticClass:"text-bold",staticStyle:{"padding-left":"14rpx","font-size":"38rpx",color:"#FF5733"}},[t._v(t._s(t.statsData.isSettleCount))])],1)],1),e("v-uni-view",{staticClass:"flex",staticStyle:{padding:"10rpx 0 10rpx 10rpx"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-text",[t._v("待结算")]),e("v-uni-text",{staticClass:"text-bold",staticStyle:{"padding-left":"14rpx","font-size":"38rpx",color:"#FF5733"}},[t._v("¥"+t._s(t.keepTwoDecimalFull(t.statsData.forSettleMoney)))])],1),e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-text",[t._v("已结算")]),e("v-uni-text",{staticClass:"text-bold",staticStyle:{"padding-left":"14rpx","font-size":"38rpx",color:"#FF5733"}},[t._v("¥"+t._s(t.keepTwoDecimalFull(t.statsData.isSettleMoney)))])],1)],1)],1),e("v-uni-view",{staticClass:"flex align-center"},[e("v-uni-text",{staticStyle:{"font-size":"20rpx",color:"#a6a6a6"}},[t._v("显"),e("br"),t._v("示")]),e("v-uni-view",{staticStyle:{transform:"rotate(90deg)"}},[e("v-uni-switch",{staticClass:"red",class:t.showStats?"checked":"",staticStyle:{transform:"scale(0.8)"},attrs:{color:"#FF5733",checked:t.showStats},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.showStatsChange.apply(void 0,arguments)}}})],1)],1)],1),t.showStats?e("v-uni-view",{staticClass:"flex text-center",staticStyle:{"padding-bottom":"10px","border-top":"1px solid #E5E5E5"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-view",{staticClass:"margin-tb-sm"},[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v(t._s(t.statsData.myLaxinCount))]),e("v-uni-view",[t._v("个人推广单量")])],1),e("v-uni-view",[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v("¥"+t._s(t.keepTwoDecimalFull(t.statsData.myLaxinMoney)))]),e("v-uni-view",[t._v("个人推广收益")])],1)],1),e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-view",{staticClass:"margin-tb-sm"},[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v(t._s(t.statsData.teamLaxinCount))]),e("v-uni-view",[t._v("代理推广单量")])],1),e("v-uni-view",[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v("¥"+t._s(t.keepTwoDecimalFull(t.statsData.teamLaxinMoney)))]),e("v-uni-view",[t._v("代理推广收益")])],1)],1),e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-view",{staticClass:"margin-tb-sm"},[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v(t._s(t.statsData.rewardCount))]),e("v-uni-view",[t._v("扶持单量")])],1),e("v-uni-view",[e("v-uni-view",{staticClass:"text-bold",staticStyle:{display:"inline-block",padding:"6rpx 14rpx",background:"#F0F5F6","border-radius":"20rpx",color:"#FF5733"}},[t._v("¥"+t._s(t.keepTwoDecimalFull(t.statsData.rewardMoney)))]),e("v-uni-view",[t._v("扶持奖励")])],1)],1)],1):t._e()],1)],1),e("v-uni-view",{staticStyle:{margin:"20rpx"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"flex",staticStyle:{flex:"1",height:"72rpx",padding:"0 24rpx","border-radius":"72rpx","justify-content":"space-between","align-items":"center","margin-right":"24rpx",background:"#F0F5F6"}},[e("v-uni-view",{staticClass:"cuIcon-search"}),e("v-uni-input",{attrs:{placeholder:"搜索手机号、渠道","placeholder-style":"color:#333;font-size:28rpx"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.mobileconfirm(t.mobile)}},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}}),t.mobile?e("v-uni-text",{staticClass:"cuIcon-close text-bold",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelSearch.apply(void 0,arguments)}}}):t._e()],1),t.activitylist.length?e("v-uni-view",{staticClass:"flex",staticStyle:{flex:"1",height:"72rpx",padding:"0 24rpx","border-radius":"72rpx","justify-content":"space-between","align-items":"center","margin-left":"24rpx",background:"#F0F5F6"}},[e("v-uni-picker",{staticStyle:{flex:"1"},attrs:{"range-key":"activityName",value:t.typeIndex,range:t.activitylist},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.activitylistChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flex ",staticStyle:{"align-items":"center","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"picker cuIcon-apps flex",staticStyle:{"align-items":"center"}},[t._v(t._s(t.activitylist[t.typeIndex].activityName))]),e("v-uni-view",{staticClass:"cuIcon-right"})],1)],1)],1):t._e()],1),e("v-uni-view",{staticClass:"margin-top",staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"flex",staticStyle:{flex:"1",height:"72rpx",padding:"0 24rpx","border-radius":"72rpx","justify-content":"space-between","align-items":"center","margin-right":"24rpx",background:"#F0F5F6"}},[e("v-uni-picker",{staticStyle:{flex:"1"},attrs:{mode:"date",value:t.date},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.DateChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flex ",staticStyle:{"align-items":"center","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"picker cuIcon-time flex",staticStyle:{"align-items":"center"}},[t._v(t._s(t.date))]),"选择日期"==t.date?e("v-uni-view",{staticClass:"cuIcon-right"}):e("v-uni-view",{staticClass:"cuIcon-close",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.delDate.apply(void 0,arguments)}}})],1)],1)],1),e("v-uni-view",{staticClass:"flex",staticStyle:{flex:"1",height:"72rpx",padding:"0 24rpx","border-radius":"72rpx","justify-content":"space-between","align-items":"center","margin-left":"24rpx",background:"#F0F5F6"}},[e("v-uni-picker",{staticStyle:{flex:"1"},attrs:{value:t.statusIndex,range:t.statusPicker},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.statusPickerChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flex ",staticStyle:{"align-items":"center","justify-content":"space-between"}},[e("v-uni-view",{staticClass:"picker cuIcon-light flex",staticStyle:{"align-items":"center"}},[t._v(t._s(t.statusIndex>-1?t.statusPicker[t.statusIndex]:"全部状态"))]),e("v-uni-view",{staticClass:"cuIcon-right"})],1)],1)],1)],1)],1),t.priceData&&t.priceData.length?e("v-uni-view",{staticClass:"bg-white",staticStyle:{padding:"20rpx 10rpx","border-radius":"20rpx"}},[e("v-uni-view",{staticClass:"text-center",staticStyle:{display:"flex",padding:"20rpx 10rpx","border-radius":"40rpx",background:"#F0F5F6"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("渠道名")]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("日期")]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("订单量")]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("结算金额")]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("类型")]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("状态")])],1),e("v-uni-scroll-view",{staticStyle:{"margin-top":"20rpx"},style:{height:t.showStats?"40vh":"50vh"},attrs:{"scroll-top":t.scrollTop,"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.scrolltolower.apply(void 0,arguments)}}},[t._l(t.priceData,(function(i,a){return e("v-uni-view",{key:i.id},[e("v-uni-view",{staticClass:"text-center",staticStyle:{padding:"20rpx 0","border-bottom":"1px solid #f8f8f8"}},[e("v-uni-view",{staticStyle:{display:"flex"}},[e("v-uni-view",{staticClass:"text-cut",staticStyle:{flex:"1"}},[t._v(t._s(i.agentName))]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v(t._s(i.createTime))]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v(t._s(i.orderNum))]),e("v-uni-view",{staticStyle:{flex:"1"}},[t._v("￥"+t._s(i.settleMoney/100))]),e("v-uni-view",{staticStyle:{flex:"1",padding:"0 6rpx",height:"50rpx","line-height":"50rpx",color:"#2A82E4",background:"rgba(42, 130, 228, 0.3)"},style:{color:t.settleTypeColor(i.settleType),background:t.settleTypeBg(i.settleType)}},[t._v(t._s(-1==i.settleType?"扶持奖励":t.typePicker[i.settleType]))]),e("v-uni-view",{staticStyle:{flex:"1"},style:{color:2==i.status?"#FF5733":""}},[t._v(t._s(t.statusPicker[i.status]))])],1)],1)],1)})),t.loading?e("v-uni-view",[e("v-uni-view",{staticClass:"cu-load loading"})],1):t._e(),!t.pageNum&&t.priceData.length?e("v-uni-view",{staticClass:"text-center"},[t._v("到底啦")]):t._e()],2)],1):t._e()],1)},n=[]},7425:function(t,i,e){"use strict";var a=e("4ea4");e("99af"),e("c975"),e("d81d"),e("d3b7"),e("acd8"),e("25f0"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e("2909")),n=a(e("5530")),l=e("2f62"),c=a(e("f3c9")),r={components:{withdrawal:c.default},data:function(){return{isRefresh:!1,mobile:"",date:"选择日期",typeIndex:0,statusIndex:0,typePicker:["扶持奖励","个人推广","团队推广","提现","对充"],statusPicker:["全部状态","待结算","已结算"],priceData:[],activitylist:[],activityId:"",pageNum:1,showStats:!1,flag:!0,statsData:{},scrollTop:0,statsDate:this.getDate(),typeIndex2:0,activityId2:""}},onPullDownRefresh:function(){this.isRefresh=!0,this.pageNum=1,this.init(),uni.stopPullDownRefresh()},computed:(0,n.default)({},(0,l.mapState)({withdrawalShow:function(t){return t.statsStore.withdrawalShow},activityIds:function(t){return t.itemsStore.activityId},loading:function(t){return t.publicStore.loading},activitylists:function(t){return t.publicStore.activitylist}})),onShow:function(){this.activityIds&&(this.activityId=this.activityIds,this.activityId2=this.activityIds,this.setactivityId(""),this.pageNum=1,this.init());var t=uni.getStorageSync("showStats");t&&(this.showStats=!0)},created:function(){this.activityId||this.init()},methods:(0,n.default)((0,n.default)({},(0,l.mapMutations)(["setactivityId","setactivitylist"])),{},{keepTwoDecimalFull:function(t){if(isNaN(t)||t<0)return"--";t/=100;var i=parseFloat(t);if(isNaN(i))return!1;i=Math.floor(100*t)/100;var e=i.toString(),a=e.indexOf(".");a<0&&(a=e.length,e+=".");while(e.length<=a+2)e+="0";return e},delDate:function(){this.date="选择日期",this.pageNum=1,this.getstatistics()},cancelSearch:function(){this.mobile="",this.pageNum=1,this.getstatistics()},activitylistChange2:function(t){this.pageNum=1,this.typeIndex2=t.detail.value,this.activityId2=this.activitylist[t.detail.value].id,this.getStats()},activitylistChange:function(t){this.pageNum=1,this.typeIndex=t.detail.value,this.activityId=this.activitylist[t.detail.value].id,this.priceData=[],this.getstatistics()},getstatistics:function(){var t=this;this.flag&&(this.flag=!1,1==this.pageNum&&(this.scrollTop=1,this.$nextTick((function(){this.scrollTop=0}))),this.api.getstatistics({data:{isRefreshTime:this.isRefresh,mobile:this.mobile,date:"选择日期"==this.date?"":this.date,status:this.statusIndex?this.statusIndex:"",activityId:this.activityId,current:this.pageNum,size:10},success:function(i){console.log("统计列表",i.data.data.listProfit),console.log("请求后",t.pageNum),t.pageNum>1&&i.data.data.listProfit.length?t.priceData=[].concat((0,s.default)(t.priceData),(0,s.default)(i.data.data.listProfit)):1==t.pageNum&&(t.priceData=i.data.data.listProfit),10!=i.data.data.listProfit.length&&(t.pageNum=null),console.log(9999,t.priceData),t.flag=!0},complete:function(){t.flag=!0}}))},mobileconfirm:function(){this.pageNum=1,this.getstatistics()},postactivitylist:function(){var t=this,i=function(){t.activityId&&t.activitylist.map((function(i,e){t.activityId==i.id&&(console.log("当前活动下标",e),t.typeIndex=e,t.typeIndex2=e)}))};!this.activitylists.length||this.isRefresh?this.api.postactivitylist({success:function(e){t.isRefresh=!1,t.setactivitylist(e.data.data.records),t.activitylist=[{activityName:"全部项目",id:""}].concat((0,s.default)(e.data.data.records)),i()}}):(this.activitylist=[{activityName:"全部项目",id:""}].concat((0,s.default)(this.activitylists)),i())},init:function(){this.postactivitylist(),this.getStats(),this.getstatistics()},getStats:function(){var t=this;(this.isRefresh||this.statsDate)&&this.api.getLaxinStats({data:{isRefreshTime:this.isRefresh,relActivityId:this.activityId2,settleTime:this.statsDate},success:function(i){t.isRefresh=!1,console.log("统计",i),t.statsData=i.data.data}})},topage:function(t){uni.navigateTo({url:t})},statusPickerChange:function(t){this.statusIndex=t.detail.value,this.pageNum=1,this.getstatistics()},DateChange:function(t){this.date=t.detail.value,this.pageNum=1,this.getstatistics()},typePickerChange:function(t){this.typeIndex=t.detail.value},scrolltolower:function(t){this.pageNum&&!this.loading&&(this.pageNum++,this.getstatistics())},statsDateChange:function(t){this.statsDate=t.detail.value,this.getStats()},getDate:function(){var t=new Date,i=t.getMonth()+1,e=t.getDate();return t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(e<10?"0"+e:e)},showStatsChange:function(t){this.showStats=t.detail.value,uni.setStorageSync("showStats",t.detail.value)},getYesterdayDate:function(t){var i=new Date(t);i.setDate(i.getDate()-1);var e=i.getFullYear(),a=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),n=e+"-"+a+"-"+s;return n},settleTypeColor:function(t){var i="";return i=0==t?"rgba(67, 207, 124, 1)":1==t?"rgba(227, 60, 100, 1)":"rgba(42, 130, 228, 1)",i},settleTypeBg:function(t){var i="";return i=0==t?"rgba(67, 207, 124, 0.3)":1==t?"rgba(227, 60, 100, 0.3)":"rgba(42, 130, 228, 0.3)",i}})};i.default=r},8419:function(t,i,e){var a=e("4b29");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("1f12670d",a,!0,{sourceMap:!1,shadowMode:!1})},"8c18":function(t,i,e){"use strict";var a=e("06e1"),s=e.n(a);s.a},a7ce:function(t,i,e){"use strict";e.r(i);var a=e("7425"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},bb9b:function(t,i,e){"use strict";e.r(i);var a=e("603c"),s=e("a7ce");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("3027"),e("8c18");var l,c=e("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"3686d766",null,!1,a["a"],l);i["default"]=r.exports}}]);