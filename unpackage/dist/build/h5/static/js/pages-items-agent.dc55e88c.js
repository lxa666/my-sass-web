(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-items-agent"],{"0a14":function(t,e,i){"use strict";i.r(e);var n=i("bf2c"),a=i("0e92");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,o=i("f0c5"),l=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"62bd0a10",null,!1,n["a"],r);e["default"]=l.exports},"0e92":function(t,e,i){"use strict";i.r(e);var n=i("6f03"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"2b80":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),s=i("2f62"),r={props:{relAgentId:{type:String,default:!1},hideRemarkname:{type:Function,default:null}},data:function(){return{remarkName:""}},computed:(0,a.default)({},(0,s.mapState)({itemInfo:function(t){return t.itemsStore.itemInfo}})),methods:{hideModal:function(){this.hideRemarkname()},setData:function(){var t=this;this.remarkName?this.api.postremarkname({data:{remarkName:this.remarkName,userId:this.relAgentId},success:function(e){t.remarkName="",t.hideModal()}}):uni.showToast({title:"备注名称不可为空",icon:"none",duration:2e3})}}};e.default=r},"3ef4":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cu-modal",class:t.relAgentId?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[t._v("修改备注")]),i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl",staticStyle:{"font-weight":"600"}},[i("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center","justify-content":"center","min-height":"200rpx"}},[i("v-uni-input",{staticStyle:{"border-radius":"20rpx","margin-right":"12rpx","background-color":"#FFF",height:"70rpx",width:"400rpx"},attrs:{placeholder:"",name:"input"},model:{value:t.remarkName,callback:function(e){t.remarkName=e},expression:"remarkName"}})],1)],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-center"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn bg-green margin-left",staticStyle:{"background-color":"#FF5733"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setData.apply(void 0,arguments)}}},[t._v("确认修改")])],1)],1)],1)],1)},s=[]},"6f03":function(t,e,i){"use strict";var n=i("4ea4");i("c975"),i("d81d"),i("a9e3"),i("b680"),i("d3b7"),i("acd8"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),s=n(i("f360")),r=i("2f62"),o={components:{Remarkname:s.default},data:function(){return{TeamRate:0,agentlist:{pages:[]},userId:"",subrate:"",price:"",mobile:"",relAgentId:"",id:null,activityId:"",subReward:"",sysReward:"",settleMoney:null}},computed:(0,a.default)({},(0,r.mapState)({itemInfo:function(t){return t.itemsStore.itemPriceInfo}})),onLoad:function(t){console.log(3334,this.itemInfo.userId),this.id=t.userId||this.itemInfo.userId},onPullDownRefresh:function(){this.init(),uni.stopPullDownRefresh()},mounted:function(){this.init()},methods:{hideRemarkname:function(){this.relAgentId="",this.init()},showRemarkname:function(t){this.relAgentId=this.id},close:function(){this.mobile="",this.init()},subrateFn:function(t){console.log(t.target.value),this.price=this.setDataFn(t.target.value)},keepTwoDecimalFull:function(t){t/=100;var e=parseFloat(t);if(isNaN(e))return!1;e=Math.floor(100*t)/100;var i=e.toString(),n=i.indexOf(".");n<0&&(n=i.length,i+=".");while(i.length<=n+2)i+="0";return i},priceFn:function(t){console.log(t.target.value);var e=this.settleMoney/100,i=((e-t.target.value)/e*100).toFixed(1);i<0&&(i=0),this.subrate=i},setDataFn:function(t,e){var i=e||this.settleMoney;return this.keepTwoDecimalFull(i-i*t/100)},hideModal:function(){this.userId="",this.subrate=""},actionShow:function(t,e,i,n){this.TeamRate=n,this.sysReward=i;var a=uni.getStorageSync("activitylist");a.map((function(i){i.id==t&&(e=i.highPrice)})),this.price="",this.subrate="",this.settleMoney=e,this.activityId=t,this.userId=this.id},posteditrate:function(){var t=this,e=this.sysReward/100;if(e){if(this.subReward>e)return void uni.showToast({title:"可调整的最大扶持奖励为"+e+"元，请修改后再提交",icon:"none",duration:2e3});if(this.subReward<0)return void uni.showToast({title:"可调整的最小扶持奖励为0,请修改后再提交",icon:"none",duration:2e3});if(""===this.subrate&&""===this.subReward)return!0}else if(""===this.subrate)return!0;if(this.subrate>this.TeamRate)uni.showToast({title:"可调整的最大比例为"+this.TeamRate+"%请修改后再提交",icon:"none",duration:2e3});else if(this.subrate<0)uni.showToast({title:"可调整的最小比例为0%请修改后再提交",icon:"none",duration:2e3});else{var i=this.settleMoney/100;if(this.price>i)uni.showToast({title:"可调整的最高结算价为"+i.toFixed(2)+"元",icon:"none",duration:2e3});else{var n,a=this.subrate;a=a?Number(a).toFixed(2):"",n=""==this.subReward?"":Number((100*this.subReward).toFixed(0)),this.api.posteditrate({data:{rate:a,userIds:this.userId,subReward:n,activityId:this.activityId},success:function(e){t.subReward="",t.rate="",t.subrate="",t.userId="",t.init()}})}}},init:function(){var t=this;this.api.getAgentactivitylist({data:{userId:this.id},success:function(e){t.agentlist=e.data.data}})}}};e.default=o},"83b8":function(t,e,i){t.exports=i.p+"static/img/logo.3b3d53a4.png"},bcfd:function(t,e,i){"use strict";i.r(e);var n=i("2b80"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},bf2c:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{"background-color":"#FFF","min-height":"100vh"}},[n("v-uni-view",{staticStyle:{"background-image":"linear-gradient(to right, #368dfe , #56b7fe)"}},[n("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"flex-end",padding:"70rpx 30rpx","border-bottom":"1px solid #e5e5e5"}},[n("v-uni-view",{staticStyle:{"background-color":"#FFF",padding:"12rpx","border-radius":"20rpx"}},[n("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx"},attrs:{src:i("83b8")}})],1),n("v-uni-view",{staticStyle:{"margin-left":"12rpx",flex:"1","line-height":"42rpx"}},[n("v-uni-view",{staticClass:"flex"},[n("v-uni-view",{staticStyle:{"font-size":"28rpx",color:"#FFF","font-weight":"600"}},[t._v(t._s(t.agentlist.agentName)+t._s(t.agentlist.remarkName?"("+t.agentlist.remarkName+")":""))]),n("v-uni-view",{staticClass:"margin-left",staticStyle:{color:"#FF5733"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showRemarkname(t.itemInfo)}}},[t._v("修改备注")])],1),n("v-uni-view",{staticStyle:{"font-size":"28rpx",color:"#FFF","font-weight":"600"}},[t._v(t._s(t.agentlist.agentMobile))]),n("v-uni-view",{staticStyle:{"font-size":"28rpx",color:"#FFF","font-weight":"600"}},[t._v("团队人数："+t._s(t.agentlist.teamNum))])],1)],1)],1),t.agentlist.pages.length?n("v-uni-view",{staticStyle:{padding:"0 20rpx 20rpx"}},t._l(t.agentlist.pages,(function(e,i){return n("v-uni-view",{key:i,staticStyle:{"margin-top":"20rpx",background:"#fff","border-radius":"20rpx",padding:"20rpx"}},[n("v-uni-view",{staticStyle:{"font-weight":"bold","font-size":"28rpx",color:"#505050"}},[t._v(t._s(e.activityName))]),n("v-uni-view",{staticClass:"flex",staticStyle:{"justify-content":"space-between","align-items":"center",padding:"20rpx 0","border-bottom":"1px solid #e5e5e5"}},[n("v-uni-view",[n("v-uni-image",{staticStyle:{width:"130rpx",height:"130rpx"},attrs:{src:e.brandLogo}})],1),n("v-uni-view",{staticStyle:{"min-height":"120rpx",display:"flex","justify-content":"space-between","flex-direction":"column","font-size":"22rpx",color:"#383838"}},[n("v-uni-view",{staticStyle:{"background-color":"#f0f5f6",padding:"6rpx 12rpx","border-radius":"10rpx"}},[t._v("结算价"),n("span",{staticStyle:{"padding-left":"6rpx",color:"#ff5733","font-weight":"bold","font-size":"36rpx"}},[t._v("￥"+t._s(t.keepTwoDecimalFull(e.settleMoney)))])]),n("v-uni-view",{staticStyle:{"font-size":"28rpx"}},[t._v("扶持奖励："),n("span",{staticStyle:{color:"#43cf7c","font-size":"32rpx"}},[t._v(t._s(t.keepTwoDecimalFull(e.subReward)))]),t._v("元/单")])],1),n("v-uni-view",[n("v-uni-view",{staticStyle:{height:"48rpx","line-height":"48rpx",color:"#ff5733","font-size":"24rpx",border:"1px solid #ff5733","text-align":"center","border-radius":"10rpx"}},[t._v("抽成比例"+t._s(e.radio)+"%")]),n("v-uni-button",{staticClass:"margin-top",staticStyle:{background:"#FF5733",color:"#fff"},attrs:{size:"mini"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.actionShow(e.activityId,e.settleMoney,e.upperSysReward,e.upperHighestRadio)}}},[t._v("修改价格")])],1)],1),n("v-uni-view",{staticClass:"flex",staticStyle:{"margin-top":"20rpx","justify-content":"space-between","background-color":"#f0f5f6","border-radius":"28rpx",padding:"6rpx 24rpx"}},[n("v-uni-view",[t._v("推广单量")]),n("v-uni-view",[t._v("待结算收益")]),n("v-uni-view",[t._v("累计贡献收益")])],1),n("v-uni-view",{staticClass:"flex",staticStyle:{"justify-content":"space-between",padding:"6rpx 24rpx"}},[n("v-uni-view",[t._v(t._s(e.putNum))]),n("v-uni-view",{staticStyle:{color:"#ff5733"}},[t._v("￥"+t._s(e.allUnsettledMoney/100))]),n("v-uni-view",{staticStyle:{color:"#ff5733"}},[t._v("￥"+t._s(e.allSettledMoney/100))])],1)],1)})),1):n("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[t._v("--该代理暂无参与任何活动--")]),n("v-uni-view",{staticClass:"cu-modal",class:t.userId?"show":""},[n("v-uni-view",{staticClass:"cu-dialog"},[n("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[n("v-uni-view",{staticClass:"content"},[t._v("修改抽成比例")]),n("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),n("v-uni-view",{staticClass:"padding-xl",staticStyle:{"font-weight":"600"}},[n("v-uni-view",{staticStyle:{"text-align":"left","margin-bottom":"6rpx"}},[t._v("抽成比例")]),n("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n("v-uni-input",{staticStyle:{"border-radius":"20rpx","margin-right":"12rpx","background-color":"#FFF",height:"70rpx",width:"200rpx"},attrs:{type:"number",placeholder:"",name:"input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.subrateFn.apply(void 0,arguments)}},model:{value:t.subrate,callback:function(e){t.subrate=e},expression:"subrate"}}),t._v("%"),n("span",{staticStyle:{"font-size":"20rpx",color:"#ff5733"}},[t._v("(上限"+t._s(t.TeamRate)+"%)")])],1)],1),n("v-uni-view",{staticClass:"padding-xl",staticStyle:{"font-weight":"600","border-bottom":".5px solid #e5e5e5"}},[n("v-uni-view",{staticStyle:{"text-align":"left","margin-bottom":"6rpx"}},[t._v("结算价格")]),n("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n("v-uni-input",{staticStyle:{"border-radius":"20rpx","margin-right":"12rpx","background-color":"#FFF",height:"70rpx",width:"200rpx"},attrs:{type:"number",placeholder:"",name:"input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.priceFn.apply(void 0,arguments)}},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("元/单"),n("span",{staticStyle:{"font-size":"20rpx",color:"#ff5733"}},[t._v("(上限"+t._s(t.keepTwoDecimalFull(t.settleMoney))+"元)")])],1)],1),t.sysReward?n("v-uni-view",{staticClass:"padding-xl",staticStyle:{"font-weight":"600"}},[n("v-uni-view",{staticStyle:{"text-align":"left","margin-bottom":"6rpx"}},[t._v("扶持奖励")]),n("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n("v-uni-input",{staticStyle:{"border-radius":"20rpx","margin-right":"12rpx","background-color":"#FFF",height:"70rpx",width:"200rpx"},attrs:{type:"number",placeholder:"",name:"input"},model:{value:t.subReward,callback:function(e){t.subReward=e},expression:"subReward"}}),t._v("元/单"),n("span",{staticStyle:{"font-size":"20rpx",color:"#ff5733"}},[t._v("(上限"+t._s(t.keepTwoDecimalFull(t.sysReward))+"元)")])],1)],1):t._e(),n("v-uni-view",{staticClass:"cu-bar bg-white justify-center"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn bg-green margin-left",staticStyle:{"background-color":"#FF5733","border-radius":"60rpx","box-shadow":"0px 2px 6px 0px rgba(255, 87, 51, 0.3)"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.posteditrate(t.subrate)}}},[t._v("确认修改")])],1)],1)],1)],1),n("Remarkname",{attrs:{relAgentId:t.relAgentId,hideRemarkname:t.hideRemarkname}})],1)},s=[]},f360:function(t,e,i){"use strict";i.r(e);var n=i("3ef4"),a=i("bcfd");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,o=i("f0c5"),l=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"de7c7ffc",null,!1,n["a"],r);e["default"]=l.exports}}]);