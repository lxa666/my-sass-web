(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-dataDetail"],{"1cac":function(t,i,e){"use strict";e.r(i);var a=e("6461"),n=e("9166");for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("685a");var r,c=e("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"7af8784e",null,!1,a["a"],r);i["default"]=o.exports},6461:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{},[e("v-uni-view",[e("v-uni-view",{staticStyle:{margin:"24rpx",padding:"48rpx","border-radius":"24rpx","background-color":"#FFF"}},[e("v-uni-form",{on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.formSubmit.apply(void 0,arguments)},reset:function(i){arguments[0]=i=t.$handleEvent(i),t.formReset.apply(void 0,arguments)}}},[e("v-uni-view",[e("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center"}},[t.dataDetail.brandLogo?e("v-uni-view",[e("v-uni-image",{staticStyle:{width:"100rpx","max-height":"150rpx"},attrs:{src:t.dataDetail.brandLogo,mode:"widthFix"}})],1):t._e(),e("v-uni-view",{staticStyle:{padding:"12rpx","font-size":"1.2em","font-weight":"600"}},[t._v(t._s(t.dataDetail.activityName))])],1),1!=t.dataDetail.examine?e("v-uni-view",{staticClass:"cu-form-group margin-top",staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5"}},[e("v-uni-view",{staticClass:"title",staticStyle:{width:"5em","text-align":"right"}},[t._v("姓名")]),e("v-uni-input",{attrs:{placeholder:"请输入",name:"username"}}),e("v-uni-text",{staticClass:"cuIcon-my text-orange"})],1):t._e(),1!=t.dataDetail.examine?e("v-uni-view",{staticClass:"cu-form-group margin-top",staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5"}},[e("v-uni-view",{staticClass:"title",staticStyle:{width:"5em","text-align":"right"}},[t._v("手机号")]),e("v-uni-input",{attrs:{type:"number",placeholder:"请输入",name:"mobile"},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}}),e("v-uni-text",{staticClass:"cuIcon-mobile text-orange"})],1):e("v-uni-view",{staticClass:"cu-form-group radius margin-top"},[e("v-uni-view",{staticClass:"title"},[t._v("手机号")]),e("v-uni-input",{staticStyle:{color:"##808080"},attrs:{name:"mobile",disabled:!0},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}})],1),3!=t.status&&1!=t.dataDetail.examine?e("v-uni-view",{staticClass:"cu-form-group margin-top",staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5"}},[e("v-uni-view",{staticClass:"title",staticStyle:{width:"5em","text-align":"right"}},[t._v("验证码")]),e("v-uni-input",{attrs:{type:"number",placeholder:"请输入",name:"smscode"}}),e("CodeTime",{attrs:{mobile:t.mobile}})],1):t._e(),t.regionlist.length&&"city"!=t.menuVal?e("v-uni-view",{staticClass:"flex margin-top",staticStyle:{"font-size":"0.9em","align-items":"center","justify-content":"center","text-align":"center"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-picker",{staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5",padding:"24rpx"},attrs:{mode:"selector",value:t.provinceName,range:t.regionlist,"range-key":"provinceName"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.provinceNameChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.regionlist[t.provinceIndex].provinceName||"省"))])],1)],1),t.regionlist[t.provinceIndex].children?e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-picker",{staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5",padding:"24rpx"},attrs:{mode:"selector",value:t.index,range:t.regionlist[t.provinceIndex].children,"range-key":"cityName"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.cityNameChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.regionlist[t.provinceIndex].children[t.cityIndex].cityName||"请选择城市"))])],1)],1):t._e(),t.regionlist[t.provinceIndex].children[t.cityIndex].children?e("v-uni-view",{staticStyle:{flex:"1"}},[e("v-uni-picker",{staticStyle:{"border-radius":"100rpx",border:"1px solid #e5e5e5",padding:"24rpx"},attrs:{mode:"selector",value:t.index,range:t.regionlist[t.provinceIndex].children[t.cityIndex].children,"range-key":"districtName"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.districtNameChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.regionlist[t.provinceIndex].children[t.cityIndex].children[t.districtIndex].districtName||"请选择地区"))])],1)],1):t._e()],1):e("v-uni-view",{staticClass:"flex margin-top",staticStyle:{"font-size":"1.2em","align-items":"center"}},[e("v-uni-view",{staticStyle:{width:"5em","text-align":"right"}},[t._v("所在地区:")]),e("v-uni-view",{staticStyle:{"background-color":"#e5e5e5","margin-left":"24rpx",padding:"12rpx","border-radius":"100rpx","min-width":"4.5em"}},[t._v(t._s(t.locationText))])],1),e("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center",display:"flex","justify-content":"center"}},[e("v-uni-button",{staticClass:"margin-top cu-btn block bg-green margin-tb-sm lg",staticStyle:{"background-color":"#FF5733","border-radius":"100rpx"},attrs:{"form-type":"submit"}},[t.loading?e("v-uni-text",{staticClass:"cuIcon-loading2 cuIconfont-spin"}):t._e(),t._v(t._s(3==t.status?"重申提交":"提交申请"))],1)],1),3==t.status?e("v-uni-view",{staticClass:"margin-top",staticStyle:{color:"#a6a6a6","text-align":"center"}},[t._v("驳回理由:"+t._s(t.taskData.remark))]):e("v-uni-view",{staticClass:"margin-top",staticStyle:{color:"#a6a6a6","text-align":"center"}},[t._v("资料审核需要5-20分钟，请耐心等待")]),e("v-uni-view",{staticClass:"margin-top"},[e("v-uni-view",{staticStyle:{"background-color":"#f0f5f6",padding:"24rpx","border-radius":"24rpx","min-height":"8em",color:"red","line-height":"60rpx"}},[e("v-uni-view",{domProps:{innerHTML:t._s(t.dataDetail.activityGuide)}})],1)],1)],1)],1)],1)],1)],1)},s=[]},"685a":function(t,i,e){"use strict";var a=e("d124"),n=e.n(a);n.a},"8acf":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".cu-form-group uni-picker .picker[data-v-7af8784e]{line-height:none!important}",""]),t.exports=i},9166:function(t,i,e){"use strict";e.r(i);var a=e("a877"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a},a877:function(t,i,e){"use strict";var a=e("4ea4");e("99af"),e("4d63"),e("ac1f"),e("25f0"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("2909")),s=a(e("5530")),r=e("2f62"),c=a(e("31be")),o=e("943f"),l={components:{CodeTime:c.default},data:function(){return{menuVal:"",locationText:"",address:o.address,settlePrice:"",relActivityId:"",index:0,regionlist:"",provinceIndex:0,cityIndex:0,districtIndex:0,provinceName:"",cityName:"",districtName:"",mobile:"",status:null}},computed:(0,s.default)({},(0,r.mapState)({loading:function(t){return t.publicStore.loading},dataDetail:function(t){return t.publicStore.dataDetail},taskData:function(t){return t.publicStore.taskData}})),onLoad:function(t){this.menuVal=t.menuVal||"",this.locationText=uni.getStorageSync("locationText"),this.status=t.status||null,this.settlePrice=t.price,this.relActivityId=t.id},created:function(){this.init()},onShow:function(){if(1==this.dataDetail.examine){var t=uni.getStorageSync("setUserLogin");this.mobile=t.mobile}},beforeDestroy:function(){},methods:(0,s.default)((0,s.default)({},(0,r.mapMutations)(["settaskData","setdataDetail"])),{},{provinceNameChange:function(t){this.provinceIndex=t.detail.value,this.provinceName=this.regionlist[t.detail.value].provinceName;var i={cityName:"请选择城市",children:[{districtName:"请选择地区"}]};"请选择城市"!=this.regionlist[this.provinceIndex].children[0].cityName&&this.regionlist[this.provinceIndex].children.unshift(i),this.cityIndex=0,this.cityName="",this.districtIndex=0,this.districtName=""},cityNameChange:function(t){this.cityIndex=t.detail.value;var i=this.regionlist[this.provinceIndex].children[t.detail.value];this.cityName=i.cityName,"请选择地区"!=i.children[0].districtName&&i.children.unshift({districtName:"请选择地区"}),this.districtIndex=0,this.districtName=""},districtNameChange:function(t){this.districtIndex=t.detail.value,this.districtName=this.regionlist[this.provinceIndex].children[this.cityIndex].children[t.detail.value].districtName},init:function(){this.regionlist.length||(this.regionlist=(0,n.default)(this.address))},topage:function(t){uni.redirectTo({url:t})},dayCha:function(t){t=t.replace(new RegExp("-","gm"),"/");var i=new Date(t).getTime(),e=(new Date).getTime(),a=i-e;return a},actionTask:function(){var t=this,i=this.dataDetail;this.api.postisapply({data:{activityId:i.id},success:function(e){t.settaskData(e.data.data),t.setdataDetail(i),1==e.data.data.status||2==e.data.data.status?t.topage("/pages/order/task?id=".concat(i.id,"&time=").concat(t.dayCha(i.activityEndtime))):uni.navigateBack({})}})},formSubmit:function(t){var i=this,e=t.detail.value;e.settlePrice=this.settlePrice,e.relActivityId=this.relActivityId,"city"===this.menuVal?e.relRegionCode=this.locationText:e.relRegionCode="".concat(this.provinceName,"-").concat(this.cityName,"-").concat(this.districtName);var a=!1;for(var n in e)e[n]||(a=n);this.districtName&&"请选择地区"!=this.districtName?a?uni.showModal({title:"提交失败",content:"(".concat(a,")、不可为空"),showCancel:!1,success:function(t){}}):(3==this.status&&(e.status=3),this.api.postsubmitInfo({data:(0,s.default)({},e),success:function(t){console.log(2222,t),200==t.data.code&&i.actionTask()}})):uni.showModal({title:"提交失败",content:"请选择所在地区",showCancel:!1,success:function(t){}})},formReset:function(t){console.log("清空数据")}})};i.default=l},d124:function(t,i,e){var a=e("8acf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("ec57930a",a,!0,{sourceMap:!1,shadowMode:!1})}}]);